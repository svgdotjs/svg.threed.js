// Create namespace
SVG.ThreeD = {}

// Create scene class to hold 3D objects
SVG.ThreeD.Scene = SVG.invent({
  // Initialize scene
  create: function(element) {
    this.constructor.call(this, SVG.create('svg'))
    
    // initialize state
    this._threed = {
      perspective: 0.2
    , rotation: {
        x: 0, y: 0, z: 0
      }
    }
  }
  
  // Inherit from
, inherit: SVG.Nested

  // constructor on parent
, construct: {
    scene: function(width, height) {
      return this.put(new SVG.ThreeD.Scene).size(width, height)
    }
  }
  
})


// Collada data paser
SVG.ThreeD.Collada = SVG.invent({
  // New collada parser
  create: function( collada ) {

  }

})


// Vertex array
SVG.ThreeD.VertexArray = SVG.invent({
  // New vertex array
  create: function() {

  }

})


// Edge array
SVG.ThreeD.EdgeArray = SVG.invent({
  // New edge array
  create: function() {

  }

})


// Face array
SVG.ThreeD.FaceArray = SVG.invent({
  // New face array
  create: function() {

  }

})


// Create base class for 3D objects
SVG.ThreeD.Volume = SVG.invent({
  // Initialize node
  create: function(element) {
    this.constructor.call(this, element)
    
    // initialize state
    this._threed = {
      styling: {
        // vertex settings
        vertex: {
          size:    0
        , opacity: { min: 0, max: 1 }
        , fill: {
            min: { color: '#f06' }
          , max: { color: '#f06' }
          }
        , stroke: {
            min: { color: '#f06', width: 0 }
          , max: { color: '#f06', width: 0 }
          }
        }
        // edge settings
      , edge: {
          width:   1
        , opacity: {
            min: 0
          , max: 1
          }
        , stroke: {
            min: { color: '#f06' }
          , max: { color: '#f06' }
          }
        }
      }
    , rotation: {
        x: 0, y: 0, z: 0
      }
    , size: {
        x: 100, y: 100, z: 100
      }
    , verteces: {}
    , edges: {}
    }
  }

  // Inherit from
, inherit: SVG.G

  // Add methods
, extend: {
    // render object
    render: function() {
      var p  = this._threed.verteces
        , g  = this._threed.geometry
        , s  = this._threed.size
        , rx = this._threed.rotation.x
        , ry = this._threed.rotation.y
        , pp = 0.3
        , xp = []
        , yp = []
        , zp = []
        , x1, y1, x2, y2, x, y, z, d, t, i, il, zd, v

      // clone arrays (negative while loop because it is up to 3x faster than array.slice)
      il = i = p.x.length
      while (i--) xp[i] = p.x[i]
      i = il
      while (i--) yp[i] = p.y[i]
      i = il
      while (i--) zp[i] = p.z[i]
      
      // rotate and draw verteces
      for (i = 0, il = p.x.length; i < il; i++) {
        // calculate rotation on the x-axis
        y = yp[i]
        z = zp[i]
        d = Math.sqrt(y * y + z * z)
        t = Math.atan2(y, z) + rx
        yp[i] = d * Math.sin(t)
        zp[i] = d * Math.cos(t)
        
        // calculate rotation on the y axis
        x = xp[i]
        z = zp[i]
        d = Math.sqrt(x * x + z * z)
        t = Math.atan2(x, z) + ry
        xp[i] = d * Math.sin(t)
        zp[i] = d * Math.cos(t)
        
        // calculate average z-distance from the centre point
        zd = 0.5 + zp[i] / s.z
        
        // add perspective
        xp[i] /= (1 - pp * zd)
        yp[i] /= (1 - pp * zd)
        
        // normalize z-distance
        zd = Math.min(Math.max(0, zd), 1)
        
        // draw vertex
        if (v = this._threed.styling.vertex.size)
          this
            .vertex(i)
            .size(v, v)
            .center(xp[i], yp[i])
            .opacity(0.1 + 0.9 * zd)
      }
      
      // draw edges
      for (i = 0, il = g.edges.length; i < il; i += 2) {
        // get points at current size
        x1 = xp[g.edges[i]]
        y1 = yp[g.edges[i]]
        z1 = zp[g.edges[i]]
        x2 = xp[g.edges[i + 1]]
        y2 = yp[g.edges[i + 1]]
        z2 = zp[g.edges[i + 1]]
        
        // calculate average z-distance from camera
        zd = 0.5 + ((z1 + z2) / 2) / s.z
        zd = Math.min(Math.max(0, zd), 1)
        
        // draw edge
        this
          .edge(i)
          .plot(x1, y1, x2, y2)
          .opacity(0.1 + 0.9 * zd)
      }
      
      return this
    }
    
    // resize object
  , size: function(x, y, z) {
      // act as getter
      if ( x == null )
        return this._threed.size
      
      // act as setter
      var size = this._threed.size = typeof x == 'object' ? x : { x: x, y: y, z: z }
      
      // build mapped verteces arrays
      this._threed.verteces = { x: [], y: [], z: [] }

      // render geometry
      for (var i = 0; i < this._threed.geometry.verteces.length; i += 3) {
        this._threed.verteces.x.push( this._threed.geometry.verteces[i]     * size.x )
        this._threed.verteces.y.push( this._threed.geometry.verteces[i + 1] * size.y )
        this._threed.verteces.z.push( this._threed.geometry.verteces[i + 2] * size.z )
      }
      
      return this.render()
    }

    // rotate object
  , rotate: function(rx, ry) {
      if (rx != null)
        this._threed.rotation.x = rx * Math.PI / 180
      if (ry != null)
        this._threed.rotation.y = ry * Math.PI / 180
      
      return this.render()
    }
    
    // draw/retreive edge
  , edge: function(i) {
      var edge = 'edge_' + i
      
      // create edge if it does not already exist
      if (! this._threed.edges[edge]) {
        this._threed.edges[edge] = this
          .line(0, 0, 0, 0)
      }
      
      // return existing edge
      return this._threed.edges[edge]
    }
  
    // draw/retreive vertex
  , vertex: function(i) {
      var vertex = 'vertex_' + i
      
      // create vertex if it does not already exist
      if (! this._threed.verteces[vertex]) {
        this._threed.verteces[vertex] = this
          .circle(0)
          .stroke('none')
      }
      
      // return existing vertex
      return this._threed.verteces[vertex]
    }
  }

})

// Create 3D cube
SVG.ThreeD.Cube = SVG.invent({
  // constructor
  create: function() {
    this.constructor.call(this, SVG.create('g'))
    
    // cube geometry
    this._threed.geometry = {
      // verteces
      verteces: [
        -0.5, -0.5, -0.5
      ,  0.5, -0.5, -0.5
      , -0.5,  0.5, -0.5
      ,  0.5,  0.5, -0.5
      , -0.5, -0.5,  0.5
      ,  0.5, -0.5,  0.5
      , -0.5,  0.5,  0.5
      ,  0.5,  0.5,  0.5
      ]
      // edges
    , edges: [
        0,1, 2,3, 0,2, 1,3
      , 4,5, 6,7, 4,6, 5,7
      , 0,4, 1,5, 2,6, 3,7
      ]
    }
  }
  
  // inherit from
, inherit: SVG.ThreeD.Volume
  
  // parent class
, parent: SVG.ThreeD.Scene
  
  // constructor on parent
, construct: {
    cube: function(x, y, z) {
      return this.put(new SVG.ThreeD.Cube).size(x, y, z)
    }
  }
})

// Create 3D element
SVG.ThreeD.Element = SVG.invent({
  // constructor
  create: function() {
    this.constructor.call(this, SVG.create('g'))
    
    // cube geometry
    this._threed.geometry = {
      // verteces
      verteces: '0.21875 -0.5461199 0.1160703 -0.21875 -0.5461199 0.1160703 0.25 -0.5070574 0.08091408 -0.25 -0.5070574 0.08091408 0.2734375 -0.4523699 0.06138283 -0.2734375 -0.4523699 0.06138283 0.1757812 -0.4719012 0.02232033 -0.1757812 -0.4719012 0.02232033 0.1757812 -0.5226824 0.04966408 -0.1757812 -0.5226824 0.04966408 0.1757812 -0.5539324 0.1004453 -0.1757812 -0.5539324 0.1004453 0.1367187 -0.5617449 0.1160703 -0.1367187 -0.5617449 0.1160703 0.1015625 -0.5344012 0.08091408 -0.1015625 -0.5344012 0.08091408 0.078125 -0.4875262 0.06138283 -0.078125 -0.4875262 0.06138283 0.0390625 -0.4914324 0.1551328 -0.0390625 -0.4914324 0.1551328 0.0703125 -0.5344012 0.1551328 -0.0703125 -0.5344012 0.1551328 0.1210937 -0.5617449 0.1551328 -0.1210937 -0.5617449 0.1551328 0.1367187 -0.5617449 0.1981015 -0.1367187 -0.5617449 0.1981015 0.1015625 -0.5344012 0.2293515 -0.1015625 -0.5344012 0.2293515 0.078125 -0.4875262 0.2527891 -0.078125 -0.4875262 0.2527891 0.1757812 -0.4719012 0.2918516 -0.1757812 -0.4719012 0.2918516 0.1757812 -0.5226824 0.2606016 -0.1757812 -0.5226824 0.2606016 0.1757812 -0.5539324 0.2137265 -0.1757812 -0.5539324 0.2137265 0.21875 -0.5461199 0.1981015 -0.21875 -0.5461199 0.1981015 0.25 -0.5070574 0.2293515 -0.25 -0.5070574 0.2293515 0.2734375 -0.4523699 0.2527891 -0.2734375 -0.4523699 0.2527891 0.3125 -0.4445574 0.1551328 -0.3125 -0.4445574 0.1551328 0.28125 -0.4992449 0.1551328 -0.28125 -0.4992449 0.1551328 0.234375 -0.5422137 0.1551328 -0.234375 -0.5422137 0.1551328 0.2382812 -0.5500262 0.1551328 -0.2382812 -0.5500262 0.1551328 0.2226562 -0.5539324 0.2020078 -0.2226562 -0.5539324 0.2020078 0.1757812 -0.5656512 0.221539 -0.1757812 -0.5656512 0.221539 0.1328125 -0.5734637 0.2020078 -0.1328125 -0.5734637 0.2020078 0.1132812 -0.5734637 0.1551328 -0.1132812 -0.5734637 0.1551328 0.1328125 -0.5734637 0.112164 -0.1328125 -0.5734637 0.112164 0.1757812 -0.5773699 0.1551328 -0.1757812 -0.5773699 0.1551328 0.1757812 -0.5656512 0.09263283 -0.1757812 -0.5656512 0.09263283 0.2226562 -0.5539324 0.112164 -0.2226562 -0.5539324 0.112164 0 -0.5344012 0.2488828 0 -0.5734637 0.2098203 0 -0.5304949 -0.3058047 0 -0.5539324 -0.1261171 0 -0.5617449 -0.05971091 0 -0.5226824 -0.3526797 0 -0.4640887 0.237164 0 -0.4484637 0.3191953 0 0.11013 0.4832578 0 0.2624738 0.3152891 0 0.2507551 0.06919533 0 0.01247376 -0.1573671 0.1015625 -0.4445574 -0.05971091 -0.1015625 -0.4445574 -0.05971091 0.15625 -0.4484637 -0.1847109 -0.15625 -0.4484637 -0.1847109 0.1757812 -0.4484637 -0.3136172 -0.1757812 -0.4484637 -0.3136172 0.1835937 -0.4289324 -0.4112734 -0.1835937 -0.4289324 -0.4112734 0.1640625 -0.4250262 -0.4386172 -0.1640625 -0.4250262 -0.4386172 0.08984375 -0.4406512 -0.4503359 -0.08984375 -0.4406512 -0.4503359 0 -0.4523699 -0.4581484 0.21875 -0.4289324 -0.03627341 -0.21875 -0.4289324 -0.03627341 0.3164063 -0.4328387 0.01450783 -0.3164063 -0.4328387 0.01450783 0.4140625 -0.3859637 0.1082578 -0.4140625 -0.3859637 0.1082578 0.4296875 -0.4601824 0.2488828 -0.4296875 -0.4601824 0.2488828 0.3554688 -0.4758074 0.2762266 -0.3554688 -0.4758074 0.2762266 0.2460937 -0.5070574 0.3348203 -0.2460937 -0.5070574 0.3348203 0.1601562 -0.5304949 0.4129453 -0.1601562 -0.5304949 0.4129453 0.078125 -0.5422137 0.3934141 -0.078125 -0.5422137 0.3934141 0.03125 -0.5383074 0.2801328 -0.03125 -0.5383074 0.2801328 0.08203125 -0.5500262 0.2410703 -0.08203125 -0.5500262 0.2410703 0.0625 -0.5461199 0.1863828 -0.0625 -0.5461199 0.1863828 0.1015625 -0.5344012 0.08091408 -0.1015625 -0.5344012 0.08091408 0.1875 -0.5148699 0.04185158 -0.1875 -0.5148699 0.04185158 0.2460937 -0.4992449 0.06528908 -0.2460937 -0.4992449 0.06528908 0.3125 -0.4875262 0.127789 -0.3125 -0.4875262 0.127789 0.3203125 -0.4875262 0.1824765 -0.3203125 -0.4875262 0.1824765 0.3007813 -0.4953387 0.221539 -0.3007813 -0.4953387 0.221539 0.2148437 -0.5226824 0.2527891 -0.2148437 -0.5226824 0.2527891 0.125 -0.5422137 0.2684141 -0.125 -0.5422137 0.2684141 0 -0.5304949 -0.3487734 0.0546875 -0.5304949 -0.3253359 -0.0546875 -0.5304949 -0.3253359 0.05859375 -0.5187762 -0.3839297 -0.05859375 -0.5187762 -0.3839297 0.03125 -0.5109637 -0.4073672 -0.03125 -0.5109637 -0.4073672 0 -0.5070574 -0.4112734 0 -0.5383074 -0.06361716 0 -0.5344012 -0.03627341 0.05078125 -0.5344012 -0.04017966 -0.05078125 -0.5344012 -0.04017966 0.0625 -0.5383074 -0.07924216 -0.0625 -0.5383074 -0.07924216 0.04296875 -0.5344012 -0.1104921 -0.04296875 -0.5344012 -0.1104921 0.1992187 -0.4992449 0.01060158 -0.1992187 -0.4992449 0.01060158 0.3085938 -0.4758074 0.06138283 -0.3085938 -0.4758074 0.06138283 0.3632813 -0.4640887 0.1356015 -0.3632813 -0.4640887 0.1356015 0.3710938 -0.4914324 0.221539 -0.3710938 -0.4914324 0.221539 0.34375 -0.5265887 0.2410703 -0.34375 -0.5265887 0.2410703 0.21875 -0.5617449 0.3074766 -0.21875 -0.5617449 0.3074766 0.15625 -0.5812762 0.3543516 -0.15625 -0.5812762 0.3543516 0.1015625 -0.5890887 0.3426328 -0.1015625 -0.5890887 0.3426328 0.05078125 -0.5851824 0.2488828 -0.05078125 -0.5851824 0.2488828 0.0625 -0.5695574 -0.01674216 -0.0625 -0.5695574 -0.01674216 0.1054687 -0.5187762 -0.1886171 -0.1054687 -0.5187762 -0.1886171 0.125 -0.5070574 -0.3175234 -0.125 -0.5070574 -0.3175234 0.1328125 -0.4953387 -0.3761172 -0.1328125 -0.4953387 -0.3761172 0.1171875 -0.4797137 -0.4229922 -0.1171875 -0.4797137 -0.4229922 0.08203125 -0.4797137 -0.4308047 -0.08203125 -0.4797137 -0.4308047 0 -0.4836199 -0.4386172 0 -0.5265887 0.05747658 0 -0.5461199 0.1395078 0.1640625 -0.5344012 0.2723203 -0.1640625 -0.5344012 0.2723203 0.08203125 -0.5383074 0.1043515 -0.08203125 -0.5383074 0.1043515 0.06640625 -0.5422137 0.1395078 -0.06640625 -0.5422137 0.1395078 0.05859375 -0.5304949 -0.3097109 -0.05859375 -0.5304949 -0.3097109 0.0390625 -0.5383074 -0.1886171 -0.0390625 -0.5383074 -0.1886171 0 -0.5383074 -0.1886171 0 -0.5344012 -0.1300234 0.046875 -0.5539324 -0.1026796 -0.046875 -0.5539324 -0.1026796 0.06640625 -0.5617449 -0.07924216 -0.06640625 -0.5617449 -0.07924216 0.0546875 -0.5539324 -0.03236716 -0.0546875 -0.5539324 -0.03236716 0.01953125 -0.5539324 -0.02846091 -0.01953125 -0.5539324 -0.02846091 0 -0.5773699 -0.06752341 0.0234375 -0.5695574 -0.04017966 -0.0234375 -0.5695574 -0.04017966 0.046875 -0.5695574 -0.04408591 -0.046875 -0.5695574 -0.04408591 0.0546875 -0.5773699 -0.07924216 -0.0546875 -0.5773699 -0.07924216 0.0390625 -0.5656512 -0.09096091 -0.0390625 -0.5656512 -0.09096091 0 -0.5656512 -0.1104921 0.1289062 -0.4406512 -0.1222109 -0.1289062 -0.4406512 -0.1222109 0.08203125 -0.5187762 -0.08705466 -0.08203125 -0.5187762 -0.08705466 0.08984375 -0.5187762 -0.1222109 -0.08984375 -0.5187762 -0.1222109 0.1171875 -0.4406512 -0.09096091 -0.1171875 -0.4406512 -0.09096091 0 -0.5070574 -0.4034609 0.0234375 -0.5070574 -0.3995547 -0.0234375 -0.5070574 -0.3995547 0.046875 -0.5187762 -0.3761172 -0.046875 -0.5187762 -0.3761172 0.046875 -0.5265887 -0.3370547 -0.046875 -0.5265887 -0.3370547 0 -0.4914324 -0.3565859 0.046875 -0.4953387 -0.3409609 -0.046875 -0.4953387 -0.3409609 0.046875 -0.4836199 -0.3722109 -0.046875 -0.4836199 -0.3722109 0.0234375 -0.4797137 -0.3917422 -0.0234375 -0.4797137 -0.3917422 0 -0.4797137 -0.3956484 0.0859375 -0.5539324 0.143414 -0.0859375 -0.5539324 0.143414 0.09375 -0.5500262 0.112164 -0.09375 -0.5500262 0.112164 0.1679687 -0.5422137 0.2488828 -0.1679687 -0.5422137 0.2488828 0.1367187 -0.5500262 0.2449765 -0.1367187 -0.5500262 0.2449765 0.2109375 -0.5500262 0.2332578 -0.2109375 -0.5500262 0.2332578 0.28125 -0.5109637 0.2098203 -0.28125 -0.5109637 0.2098203 0.2929688 -0.5070574 0.1785703 -0.2929688 -0.5070574 0.1785703 0.2890625 -0.5031512 0.1316953 -0.2890625 -0.5031512 0.1316953 0.2382812 -0.5226824 0.08482033 -0.2382812 -0.5226824 0.08482033 0.1875 -0.5344012 0.06528908 -0.1875 -0.5344012 0.06528908 0.1132812 -0.5539324 0.08872658 -0.1132812 -0.5539324 0.08872658 0.08984375 -0.5539324 0.1824765 -0.08984375 -0.5539324 0.1824765 0.1054687 -0.5539324 0.221539 -0.1054687 -0.5539324 0.221539 0.1171875 -0.5422137 0.2137265 -0.1171875 -0.5422137 0.2137265 0.09765625 -0.5422137 0.1824765 -0.09765625 -0.5422137 0.1824765 0.1210937 -0.5422137 0.09653908 -0.1210937 -0.5422137 0.09653908 0.1875 -0.5265887 0.07700783 -0.1875 -0.5265887 0.07700783 0.2304687 -0.5148699 0.09263283 -0.2304687 -0.5148699 0.09263283 0.2734375 -0.4992449 0.1395078 -0.2734375 -0.4992449 0.1395078 0.2773438 -0.4992449 0.174664 -0.2773438 -0.4992449 0.174664 0.265625 -0.5031512 0.2020078 -0.265625 -0.5031512 0.2020078 0.2070312 -0.5383074 0.2293515 -0.2070312 -0.5383074 0.2293515 0.140625 -0.5461199 0.2332578 -0.140625 -0.5461199 0.2332578 0.1679687 -0.5383074 0.237164 -0.1679687 -0.5383074 0.237164 0.1015625 -0.5383074 0.1199765 -0.1015625 -0.5383074 0.1199765 0.09765625 -0.5383074 0.1473203 -0.09765625 -0.5383074 0.1473203 0.0546875 -0.4679949 0.2645078 -0.0546875 -0.4679949 0.2645078 0.09765625 -0.4719012 0.3660703 -0.09765625 -0.4719012 0.3660703 0.1679687 -0.4601824 0.3777891 -0.1679687 -0.4601824 0.3777891 0.2421875 -0.4406512 0.3113828 -0.2421875 -0.4406512 0.3113828 0.3398438 -0.4094012 0.2606016 -0.3398438 -0.4094012 0.2606016 0.3984375 -0.3937762 0.237164 -0.3984375 -0.3937762 0.237164 0.3867188 -0.3508074 0.1160703 -0.3867188 -0.3508074 0.1160703 0.3007813 -0.3703387 0.03403908 -0.3007813 -0.3703387 0.03403908 0.21875 -0.3976824 -0.01283591 -0.21875 -0.3976824 -0.01283591 0 -0.3078387 0.4832578 0 -0.1242449 0.5262266 0 0.17263 -0.06361716 0 -0.2570574 -0.1964296 0 -0.3937762 -0.4542422 0 -0.3351824 -0.3683047 0 -0.3234637 -0.2511172 0 -0.3039324 -0.2081484 0.4257813 -0.1906512 0.1512265 -0.4257813 -0.1906512 0.1512265 0.4296875 -0.1398699 0.1941953 -0.4296875 -0.1398699 0.1941953 0.3867188 0.05544251 0.1668515 -0.3867188 0.05544251 0.1668515 0.2304687 0.188255 0.2527891 -0.2304687 0.188255 0.2527891 0.3671875 -0.1984637 0.01060158 -0.3671875 -0.1984637 0.01060158 0.296875 -0.08127617 -0.02846091 -0.296875 -0.08127617 -0.02846091 0.3203125 0.05153626 0.03013283 -0.3203125 0.05153626 0.03013283 0.1679687 0.1687238 0.06138283 -0.1679687 0.1687238 0.06138283 0.1171875 -0.3664324 -0.1417421 -0.1171875 -0.3664324 -0.1417421 0.08984375 -0.2922137 -0.1729921 -0.08984375 -0.2922137 -0.1729921 0.1445312 -0.3547137 -0.3214297 -0.1445312 -0.3547137 -0.3214297 0.125 -0.3586199 -0.2159609 -0.125 -0.3586199 -0.2159609 0.1640625 -0.3625262 -0.4229922 -0.1640625 -0.3625262 -0.4229922 0.0703125 -0.3469012 -0.3448672 -0.0703125 -0.3469012 -0.3448672 0.0625 -0.3429949 -0.2354921 -0.0625 -0.3429949 -0.2354921 0.08203125 -0.3820574 -0.4386172 -0.08203125 -0.3820574 -0.4386172 0.109375 -0.3781512 -0.1065859 -0.109375 -0.3781512 -0.1065859 0.1054687 -0.3976824 -0.07924216 -0.1054687 -0.3976824 -0.07924216 0.1015625 -0.4133074 -0.05189841 -0.1015625 -0.4133074 -0.05189841 0.1054687 -0.2453387 -0.1612734 -0.1054687 -0.2453387 -0.1612734 0.1484375 -0.03049492 -0.1222109 -0.1484375 -0.03049492 -0.1222109 0.171875 0.1062238 -0.04017966 -0.171875 0.1062238 -0.04017966 0.2265625 0.02809876 0.4676328 -0.2265625 0.02809876 0.4676328 0.2265625 -0.1281512 0.4988828 -0.2265625 -0.1281512 0.4988828 0.2265625 -0.2804949 0.4598203 -0.2265625 -0.2804949 0.4598203 0.2304687 -0.3781512 0.2957578 -0.2304687 -0.3781512 0.2957578 0.3632813 -0.3312762 0.237164 -0.3632813 -0.3312762 0.237164 0.3164063 -0.3039324 0.2606016 -0.3164063 -0.3039324 0.2606016 0.3203125 -0.1906512 0.3856016 -0.3203125 -0.1906512 0.3856016 0.3984375 -0.2258074 0.3152891 -0.3984375 -0.2258074 0.3152891 0.3984375 -0.1047137 0.3426328 -0.3984375 -0.1047137 0.3426328 0.3203125 -0.06565117 0.4090391 -0.3203125 -0.06565117 0.4090391 0.3203125 0.05934876 0.3738828 -0.3203125 0.05934876 0.3738828 0.3984375 0.01638001 0.3035703 -0.3984375 0.01638001 0.3035703 0.3085938 0.1296613 0.1981015 -0.3085938 0.1296613 0.1981015 0.2421875 0.11013 0.04575783 -0.2421875 0.11013 0.04575783 0.4101563 -0.06174492 0.1981015 -0.4101563 -0.06174492 0.1981015 0.203125 -0.2375262 -0.05189841 -0.203125 -0.2375262 -0.05189841 0.2148437 -0.05783867 -0.06361716 -0.2148437 -0.05783867 -0.06361716 0.4453125 -0.04611992 0.237164 -0.4453125 -0.04611992 0.237164 0.3867188 -0.1008074 -0.03627341 -0.3867188 -0.1008074 -0.03627341 0.5195313 7.55042e-4 -0.01674216 -0.5195313 7.55042e-4 -0.01674216 0.640625 0.05153626 0.06138283 -0.640625 0.05153626 0.06138283 0.6757813 0.04763001 0.1941953 -0.6757813 0.04763001 0.1941953 0.6171875 0.04763001 0.2879453 -0.6171875 0.04763001 0.2879453 0.5117188 -0.007057428 0.2723203 -0.5117188 -0.007057428 0.2723203 0.5078125 -0.01877617 0.2410703 -0.5078125 -0.01877617 0.2410703 0.59375 0.03200501 0.2527891 -0.59375 0.03200501 0.2527891 0.6328125 0.03981751 0.1785703 -0.6328125 0.03981751 0.1785703 0.6054688 0.03981751 0.07310158 -0.6054688 0.03981751 0.07310158 0.515625 -0.01096367 0.01450783 -0.515625 -0.01096367 0.01450783 0.4140625 -0.09690117 -0.001117169 -0.4140625 -0.09690117 -0.001117169 0.4609375 -0.05393242 0.2137265 -0.4609375 -0.05393242 0.2137265 0.4726563 -0.01877617 0.1863828 -0.4726563 -0.01877617 0.1863828 0.4414063 -0.05783867 0.02232033 -0.4414063 -0.05783867 0.02232033 0.5195313 0.02028626 0.03403908 -0.5195313 0.02028626 0.03403908 0.59375 0.05934876 0.08091408 -0.59375 0.05934876 0.08091408 0.6171875 0.05934876 0.159039 -0.6171875 0.05934876 0.159039 0.5859375 0.05544251 0.2137265 -0.5859375 0.05544251 0.2137265 0.5117188 0.01638001 0.205914 -0.5117188 0.01638001 0.205914 0.421875 -0.05783867 0.1785703 -0.421875 -0.05783867 0.1785703 0.4179688 -0.02658867 0.1199765 -0.4179688 -0.02658867 0.1199765 0.3789063 -0.02658867 0.08091408 -0.3789063 -0.02658867 0.08091408 0.4101563 -0.02658867 0.07700783 -0.4101563 -0.02658867 0.07700783 0.421875 -0.02658867 0.04185158 -0.421875 -0.02658867 0.04185158 0.40625 -0.02658867 0.02622658 -0.40625 -0.02658867 0.02622658 0.3632813 -0.1281512 0.03403908 -0.3632813 -0.1281512 0.03403908 0.359375 -0.07736992 0.02232033 -0.359375 -0.07736992 0.02232033 0.359375 -0.06955742 0.05357033 -0.359375 -0.06955742 0.05357033 0.3984375 -0.05783867 0.1356015 -0.3984375 -0.05783867 0.1356015 0.4453125 -0.03049492 0.1551328 -0.4453125 -0.03049492 0.1551328 0.4453125 -0.003151178 0.1512265 -0.4453125 -0.003151178 0.1512265 0.40625 -0.003151178 0.02622658 -0.40625 -0.003151178 0.02622658 0.4257813 -0.003151178 0.04185158 -0.4257813 -0.003151178 0.04185158 0.4140625 -0.003151178 0.07310158 -0.4140625 -0.003151178 0.07310158 0.3828125 -0.003151178 0.08091408 -0.3828125 -0.003151178 0.08091408 0.421875 -0.003151178 0.1199765 -0.421875 -0.003151178 0.1199765 0.5195313 0.04372376 0.1981015 -0.5195313 0.04372376 0.1981015 0.59375 0.07888001 0.205914 -0.59375 0.07888001 0.205914 0.6289063 0.08278626 0.1551328 -0.6289063 0.08278626 0.1551328 0.6054688 0.07888001 0.07700783 -0.6054688 0.07888001 0.07700783 0.5234375 0.04763001 0.03403908 -0.5234375 0.04763001 0.03403908 0.4414063 -0.03049492 0.02622658 -0.4414063 -0.03049492 0.02622658 0.4765625 0.008567512 0.1785703 -0.4765625 0.008567512 0.1785703 0.4453125 7.55042e-4 0.08872658 -0.4453125 7.55042e-4 0.08872658 0.46875 0.004661262 0.06528908 -0.46875 0.004661262 0.06528908 0.5 0.02028626 0.09653908 -0.5 0.02028626 0.09653908 0.4804688 0.01247376 0.1199765 -0.4804688 0.01247376 0.1199765 0.5078125 0.02419251 0.1512265 -0.5078125 0.02419251 0.1512265 0.5273438 0.02809876 0.127789 -0.5273438 0.02809876 0.127789 0.5546875 0.03200501 0.1395078 -0.5546875 0.03200501 0.1395078 0.5429688 0.03200501 0.1707578 -0.5429688 0.03200501 0.1707578 0.5117188 0.07888001 0.2527891 -0.5117188 0.07888001 0.2527891 0.625 0.11013 0.2684141 -0.625 0.11013 0.2684141 0.6835938 0.08669251 0.1824765 -0.6835938 0.08669251 0.1824765 0.65625 0.1023175 0.06138283 -0.65625 0.1023175 0.06138283 0.5195313 0.08278626 -0.008929669 -0.5195313 0.08278626 -0.008929669 0.3945313 7.55042e-4 -0.02846091 -0.3945313 7.55042e-4 -0.02846091 0.4296875 0.02809876 0.2254453 -0.4296875 0.02809876 0.2254453'.split(' ')
      // edges
    , edges: colladaFacesToEdges('46 0 2 0 44 0 3 1 47 1 45 1 44 2 4 2 42 2 5 3 45 3 43 3 2 4 6 4 4 4 7 5 3 5 5 5 0 6 8 6 2 6 9 7 1 7 3 7 10 8 14 8 8 8 15 9 11 9 9 9 8 10 16 10 6 10 17 11 9 11 7 11 20 12 16 12 14 12 21 13 17 13 19 13 22 14 14 14 12 14 23 15 15 15 21 15 22 16 26 16 20 16 27 17 23 17 21 17 26 18 18 18 20 18 27 19 19 19 29 19 32 20 28 20 26 20 33 21 29 21 31 21 34 22 26 22 24 22 35 23 27 23 33 23 36 24 32 24 34 24 37 25 33 25 39 25 38 26 30 26 32 26 39 27 31 27 41 27 44 28 40 28 38 28 45 29 41 29 43 29 46 30 38 30 36 30 47 31 39 31 45 31 36 32 48 32 46 32 37 33 49 33 51 33 34 34 50 34 36 34 35 35 51 35 53 35 24 36 52 36 34 36 25 37 53 37 55 37 22 38 54 38 24 38 23 39 55 39 57 39 22 40 58 40 56 40 59 41 23 41 57 41 12 42 62 42 58 42 63 43 13 43 59 43 10 44 64 44 62 44 65 45 11 45 63 45 0 46 48 46 64 46 49 47 1 47 65 47 60 48 64 48 48 48 49 49 65 49 61 49 62 50 64 50 60 50 61 51 65 51 63 51 60 52 58 52 62 52 63 53 59 53 61 53 60 54 56 54 58 54 59 55 57 55 61 55 60 56 54 56 56 56 57 57 55 57 61 57 60 58 52 58 54 58 55 59 53 59 61 59 60 60 50 60 52 60 53 61 51 61 61 61 60 62 48 62 50 62 51 63 49 63 61 63 173 64 90 64 88 64 174 65 90 65 175 65 171 66 88 66 86 66 172 67 89 67 174 67 84 68 171 68 86 68 172 69 85 69 87 69 82 70 169 70 84 70 170 71 83 71 85 71 80 72 167 72 82 72 168 73 81 73 83 73 78 74 145 74 163 74 146 75 79 75 164 75 93 76 145 76 91 76 94 77 146 77 148 77 93 78 149 78 147 78 150 79 94 79 148 79 97 80 149 80 95 80 98 81 150 81 152 81 99 82 151 82 97 82 100 83 152 83 154 83 101 84 153 84 99 84 102 85 154 85 156 85 101 86 157 86 155 86 158 87 102 87 156 87 105 88 157 88 103 88 106 89 158 89 160 89 107 90 159 90 105 90 108 91 160 91 162 91 66 92 161 92 107 92 66 93 162 93 67 93 127 94 161 94 109 94 128 95 162 95 160 95 127 96 157 96 159 96 158 97 128 97 160 97 155 98 178 98 125 98 156 99 179 99 158 99 153 100 125 100 123 100 154 101 126 101 156 101 151 102 123 102 121 102 152 103 124 103 154 103 149 104 121 104 119 104 150 105 122 105 152 105 147 106 119 106 117 106 148 107 120 107 150 107 145 108 117 108 115 108 146 109 118 109 148 109 113 110 145 110 115 110 146 111 114 111 116 111 113 112 176 112 163 112 176 113 114 113 164 113 161 114 111 114 109 114 162 115 112 115 67 115 111 116 177 116 182 116 177 117 112 117 183 117 180 118 177 118 176 118 181 119 177 119 183 119 134 120 175 120 173 120 175 121 135 121 174 121 132 122 173 122 171 122 174 123 133 123 172 123 132 124 169 124 130 124 133 125 170 125 172 125 165 126 184 126 167 126 185 127 166 127 168 127 130 128 167 128 184 128 168 129 131 129 185 129 189 130 186 130 143 130 189 131 187 131 188 131 186 132 68 132 184 132 187 133 68 133 188 133 130 134 68 134 129 134 131 134 68 134 185 134 141 135 190 135 143 135 191 136 142 136 144 136 194 137 141 137 139 137 195 138 142 138 193 138 196 139 139 139 138 139 197 140 140 140 195 140 70 141 138 141 137 141 70 142 138 142 197 142 143 143 69 143 189 143 144 144 69 144 191 144 190 145 207 145 69 145 191 146 207 146 206 146 70 147 199 147 196 147 200 148 70 148 197 148 196 149 201 149 194 149 202 150 197 150 195 150 201 151 192 151 194 151 202 152 193 152 204 152 192 153 205 153 190 153 206 154 193 154 191 154 203 155 199 155 198 155 204 156 200 156 202 156 198 157 205 157 203 157 206 158 198 158 204 158 138 159 163 159 176 159 164 160 138 160 176 160 139 161 210 161 163 161 211 162 140 162 164 162 143 163 210 163 141 163 144 164 211 164 213 164 186 165 212 165 143 165 187 166 213 166 166 166 208 167 165 167 80 167 209 168 166 168 213 168 214 169 212 169 208 169 215 170 213 170 211 170 78 171 210 171 214 171 211 172 79 172 215 172 129 173 221 173 130 173 129 174 222 174 71 174 132 175 221 175 219 175 222 176 133 176 220 176 134 177 219 177 217 177 220 178 135 178 218 178 136 134 217 134 216 134 218 134 136 134 216 134 217 179 230 179 216 179 218 180 230 180 229 180 217 181 226 181 228 181 227 182 218 182 229 182 219 141 224 141 226 141 225 183 220 183 227 183 71 184 224 184 221 184 71 185 225 185 223 185 223 186 228 186 224 186 229 187 223 187 225 187 224 188 228 188 226 188 227 189 229 189 225 189 182 190 233 190 231 190 234 191 183 191 232 191 111 192 231 192 253 192 232 193 112 193 254 193 111 194 255 194 109 194 112 195 256 195 254 195 113 196 233 196 180 196 114 197 234 197 252 197 113 198 249 198 251 198 250 199 114 199 252 199 115 200 247 200 249 200 248 201 116 201 250 201 117 202 245 202 247 202 246 203 118 203 248 203 119 204 243 204 245 204 244 205 120 205 246 205 123 206 243 206 121 206 124 207 244 207 242 207 125 208 241 208 123 208 126 209 242 209 240 209 125 210 235 210 239 210 236 211 126 211 240 211 178 212 237 212 235 212 238 213 179 213 236 213 127 214 255 214 237 214 256 215 128 215 238 215 237 216 257 216 275 216 258 217 238 217 276 217 235 218 275 218 277 218 276 219 236 219 278 219 235 220 273 220 239 220 236 221 274 221 278 221 239 222 271 222 241 222 240 223 272 223 274 223 243 224 271 224 269 224 272 225 244 225 270 225 243 226 267 226 245 226 244 227 268 227 270 227 247 228 267 228 265 228 268 229 248 229 266 229 247 230 263 230 249 230 248 231 264 231 266 231 249 232 261 232 251 232 250 233 262 233 264 233 233 234 261 234 279 234 262 235 234 235 280 235 255 236 259 236 257 236 260 237 256 237 258 237 253 238 281 238 259 238 282 239 254 239 260 239 231 240 279 240 281 240 280 241 232 241 282 241 66 242 283 242 72 242 284 243 66 243 72 243 107 244 285 244 283 244 286 245 108 245 284 245 103 246 285 246 105 246 104 247 286 247 288 247 101 248 287 248 103 248 102 249 288 249 290 249 99 250 289 250 101 250 100 251 290 251 292 251 99 252 293 252 291 252 294 253 100 253 292 253 95 254 293 254 97 254 96 255 294 255 296 255 95 256 297 256 295 256 298 257 96 257 296 257 93 258 299 258 297 258 300 259 94 259 298 259 308 260 337 260 307 260 308 261 338 261 328 261 307 262 335 262 306 262 307 263 336 263 338 263 306 264 339 264 305 264 306 265 340 265 336 265 88 266 305 266 339 266 305 267 89 267 340 267 86 268 339 268 333 268 340 269 87 269 334 269 84 270 333 270 329 270 334 271 85 271 330 271 82 272 329 272 331 272 330 273 83 273 332 273 329 274 337 274 331 274 338 275 330 275 332 275 333 276 335 276 329 276 334 277 336 277 340 277 331 278 327 278 325 278 332 279 328 279 338 279 80 280 331 280 325 280 332 281 81 281 326 281 341 282 214 282 208 282 342 283 215 283 344 283 325 284 208 284 80 284 326 285 209 285 342 285 214 286 345 286 78 286 215 287 346 287 344 287 345 288 91 288 78 288 346 289 92 289 300 289 323 290 303 290 76 290 324 291 303 291 352 291 351 292 77 292 303 292 352 293 77 293 350 293 77 294 347 294 304 294 348 295 77 295 304 295 304 296 327 296 308 296 328 297 304 297 308 297 327 298 341 298 325 298 328 299 342 299 348 299 295 300 317 300 309 300 318 301 296 301 310 301 315 302 76 302 75 302 316 303 76 303 324 303 357 304 302 304 301 304 358 305 302 305 356 305 302 306 353 306 74 306 354 307 302 307 74 307 74 308 315 308 75 308 316 309 74 309 75 309 291 310 361 310 363 310 362 311 292 311 364 311 363 312 367 312 365 312 368 313 364 313 366 313 365 314 369 314 371 314 370 315 366 315 372 315 371 316 375 316 373 316 376 317 372 317 374 317 377 318 375 318 313 318 378 319 376 319 374 319 315 320 373 320 377 320 374 321 316 321 378 321 353 322 371 322 373 322 372 323 354 323 374 323 355 324 365 324 371 324 366 325 356 325 372 325 357 326 363 326 365 326 364 327 358 327 366 327 291 328 359 328 289 328 292 329 360 329 364 329 359 330 301 330 73 330 360 331 301 331 358 331 285 332 289 332 283 332 286 333 290 333 288 333 283 334 359 334 73 334 360 335 284 335 73 335 72 336 283 336 73 336 73 337 284 337 72 337 295 338 361 338 293 338 296 339 362 339 310 339 309 340 367 340 361 340 368 341 310 341 362 341 311 342 369 342 367 342 370 343 312 343 368 343 375 344 381 344 313 344 376 345 382 345 370 345 349 346 383 346 347 346 350 347 384 347 386 347 383 348 319 348 317 348 384 349 320 349 386 349 297 350 383 350 317 350 384 351 298 351 318 351 299 352 341 352 383 352 342 353 300 353 384 353 341 354 347 354 383 354 384 355 348 355 342 355 299 356 345 356 343 356 344 357 346 357 300 357 321 358 377 358 313 358 322 359 378 359 380 359 377 360 323 360 315 360 378 361 324 361 380 361 385 362 321 362 319 362 386 363 322 363 380 363 351 364 385 364 349 364 352 365 386 365 380 365 323 366 379 366 351 366 352 367 380 367 324 367 387 368 401 368 399 368 388 369 402 369 414 369 399 370 403 370 397 370 404 371 400 371 398 371 403 372 395 372 397 372 404 373 396 373 406 373 405 374 393 374 395 374 406 375 394 375 408 375 407 376 391 376 393 376 408 377 392 377 410 377 391 378 411 378 389 378 412 379 392 379 390 379 409 380 417 380 411 380 418 381 410 381 412 381 407 382 419 382 409 382 420 383 408 383 410 383 423 384 407 384 405 384 424 385 408 385 422 385 425 386 405 386 403 386 426 387 406 387 424 387 427 388 403 388 401 388 428 389 404 389 426 389 401 390 415 390 427 390 416 391 402 391 428 391 319 392 441 392 317 392 320 393 442 393 444 393 389 394 443 394 319 394 390 395 444 395 412 395 309 396 441 396 311 396 442 397 310 397 312 397 381 398 413 398 387 398 414 399 382 399 388 399 411 400 439 400 443 400 440 401 412 401 444 401 445 402 439 402 437 402 446 403 440 403 444 403 433 134 437 134 435 134 438 134 434 134 436 134 447 404 433 404 431 404 448 405 434 405 446 405 447 406 449 406 429 406 448 407 450 407 432 407 429 408 415 408 413 408 430 409 416 409 450 409 447 410 381 410 311 410 448 411 382 411 430 411 441 412 447 412 311 412 442 413 448 413 446 413 441 414 443 414 445 414 446 415 444 415 442 415 415 416 451 416 475 416 452 417 416 417 476 417 431 418 451 418 449 418 432 419 452 419 462 419 431 420 459 420 461 420 460 421 432 421 462 421 435 422 459 422 433 422 436 423 460 423 458 423 437 424 457 424 435 424 438 425 458 425 456 425 437 426 453 426 455 426 454 427 438 427 456 427 439 428 473 428 453 428 474 428 440 428 454 428 427 429 475 429 463 429 476 430 428 430 464 430 425 431 463 431 465 431 464 432 426 432 466 432 423 433 465 433 467 433 466 434 424 434 468 434 423 435 469 435 421 435 424 436 470 436 468 436 421 437 471 437 419 437 422 438 472 438 470 438 419 439 473 439 417 439 420 440 474 440 472 440 455 441 477 441 457 441 456 442 478 442 480 442 479 443 483 443 477 443 480 444 484 444 482 444 483 445 487 445 485 445 488 446 484 446 486 446 487 447 491 447 485 447 488 448 492 448 490 448 463 449 485 449 491 449 486 450 464 450 492 450 483 451 475 451 451 451 484 452 476 452 486 452 461 453 483 453 451 453 462 454 484 454 478 454 457 134 461 134 459 134 462 134 458 134 460 134 473 455 455 455 453 455 474 456 456 456 480 456 471 457 479 457 473 457 480 458 472 458 474 458 487 459 471 459 469 459 488 460 472 460 482 460 489 461 469 461 467 461 490 462 470 462 488 462 465 463 489 463 467 463 490 464 466 464 468 464 463 465 491 465 465 465 466 466 492 466 464 466 391 467 503 467 501 467 504 468 392 468 502 468 393 469 501 469 499 469 502 470 394 470 500 470 393 471 497 471 395 471 394 472 498 472 500 472 395 473 495 473 397 473 396 474 496 474 498 474 397 475 493 475 399 475 398 476 494 476 496 476 399 477 505 477 387 477 400 478 506 478 494 478 501 479 505 479 493 479 502 480 506 480 504 480 493 481 499 481 501 481 500 482 494 482 502 482 495 483 497 483 499 483 500 484 498 484 496 484 381 485 505 485 313 485 382 486 506 486 388 486 313 487 503 487 321 487 504 488 314 488 322 488 319 489 503 489 389 489 504 490 320 490 390 490 46 491 0 491 2 491 3 492 1 492 47 492 44 493 2 493 4 493 5 494 3 494 45 494 2 495 8 495 6 495 7 496 9 496 3 496 0 497 10 497 8 497 9 498 11 498 1 498 10 499 12 499 14 499 15 500 13 500 11 500 8 501 14 501 16 501 17 502 15 502 9 502 20 503 18 503 16 503 21 504 15 504 17 504 22 505 20 505 14 505 23 506 13 506 15 506 22 507 24 507 26 507 27 508 25 508 23 508 26 509 28 509 18 509 27 510 21 510 19 510 32 511 30 511 28 511 33 512 27 512 29 512 34 513 32 513 26 513 35 514 25 514 27 514 36 515 38 515 32 515 37 516 35 516 33 516 38 517 40 517 30 517 39 518 33 518 31 518 44 519 42 519 40 519 45 520 39 520 41 520 46 521 44 521 38 521 47 522 37 522 39 522 36 523 50 523 48 523 37 524 47 524 49 524 34 525 52 525 50 525 35 526 37 526 51 526 24 527 54 527 52 527 25 528 35 528 53 528 22 529 56 529 54 529 23 530 25 530 55 530 22 531 12 531 58 531 59 532 13 532 23 532 12 533 10 533 62 533 63 534 11 534 13 534 10 535 0 535 64 535 65 536 1 536 11 536 0 537 46 537 48 537 49 538 47 538 1 538 173 539 175 539 90 539 174 540 89 540 90 540 171 541 173 541 88 541 172 542 87 542 89 542 84 543 169 543 171 543 172 544 170 544 85 544 82 545 167 545 169 545 170 546 168 546 83 546 80 547 165 547 167 547 168 548 166 548 81 548 78 549 91 549 145 549 146 550 92 550 79 550 93 551 147 551 145 551 94 552 92 552 146 552 93 553 95 553 149 553 150 554 96 554 94 554 97 555 151 555 149 555 98 556 96 556 150 556 99 557 153 557 151 557 100 558 98 558 152 558 101 559 155 559 153 559 102 560 100 560 154 560 101 561 103 561 157 561 158 562 104 562 102 562 105 563 159 563 157 563 106 564 104 564 158 564 107 565 161 565 159 565 108 566 106 566 160 566 66 567 67 567 161 567 66 568 108 568 162 568 127 569 159 569 161 569 128 570 110 570 162 570 127 571 178 571 157 571 158 572 179 572 128 572 155 573 157 573 178 573 156 574 126 574 179 574 153 575 155 575 125 575 154 576 124 576 126 576 151 577 153 577 123 577 152 578 122 578 124 578 149 579 151 579 121 579 150 580 120 580 122 580 147 581 149 581 119 581 148 582 118 582 120 582 145 583 147 583 117 583 146 584 116 584 118 584 113 585 163 585 145 585 146 586 164 586 114 586 113 587 180 587 176 587 176 588 181 588 114 588 161 589 67 589 111 589 162 590 110 590 112 590 111 591 67 591 177 591 177 592 67 592 112 592 180 593 182 593 177 593 181 594 176 594 177 594 134 595 136 595 175 595 175 596 136 596 135 596 132 597 134 597 173 597 174 598 135 598 133 598 132 599 171 599 169 599 133 600 131 600 170 600 165 601 186 601 184 601 185 602 187 602 166 602 130 603 169 603 167 603 168 604 170 604 131 604 189 131 188 131 186 131 189 605 144 605 187 605 186 133 188 133 68 133 187 606 185 606 68 606 130 134 184 134 68 134 131 134 129 134 68 134 141 607 192 607 190 607 191 608 193 608 142 608 194 609 192 609 141 609 195 610 140 610 142 610 196 611 194 611 139 611 197 612 138 612 140 612 70 613 196 613 138 613 143 614 190 614 69 614 144 615 189 615 69 615 190 616 205 616 207 616 191 617 69 617 207 617 70 618 198 618 199 618 200 619 198 619 70 619 196 620 199 620 201 620 202 621 200 621 197 621 201 622 203 622 192 622 202 623 195 623 193 623 192 624 203 624 205 624 206 625 204 625 193 625 203 626 201 626 199 626 204 627 198 627 200 627 198 628 207 628 205 628 206 629 207 629 198 629 138 630 139 630 163 630 164 631 140 631 138 631 139 632 141 632 210 632 211 633 142 633 140 633 143 634 212 634 210 634 144 635 142 635 211 635 186 636 165 636 212 636 187 637 144 637 213 637 208 638 212 638 165 638 209 639 81 639 166 639 214 640 210 640 212 640 215 641 209 641 213 641 78 642 163 642 210 642 211 643 164 643 79 643 129 644 71 644 221 644 129 645 131 645 222 645 132 646 130 646 221 646 222 647 131 647 133 647 134 648 132 648 219 648 220 649 133 649 135 649 136 650 134 650 217 650 218 651 135 651 136 651 217 179 228 179 230 179 218 180 216 180 230 180 217 652 219 652 226 652 227 653 220 653 218 653 219 141 221 141 224 141 225 183 222 183 220 183 71 654 223 654 224 654 71 655 222 655 225 655 223 656 230 656 228 656 229 657 230 657 223 657 182 658 180 658 233 658 234 659 181 659 183 659 111 660 182 660 231 660 232 661 183 661 112 661 111 662 253 662 255 662 112 663 110 663 256 663 113 664 251 664 233 664 114 665 181 665 234 665 113 666 115 666 249 666 250 667 116 667 114 667 115 668 117 668 247 668 248 669 118 669 116 669 117 670 119 670 245 670 246 671 120 671 118 671 119 672 121 672 243 672 244 673 122 673 120 673 123 674 241 674 243 674 124 675 122 675 244 675 125 676 239 676 241 676 126 677 124 677 242 677 125 678 178 678 235 678 236 679 179 679 126 679 178 680 127 680 237 680 238 681 128 681 179 681 127 682 109 682 255 682 256 683 110 683 128 683 237 684 255 684 257 684 258 685 256 685 238 685 235 686 237 686 275 686 276 687 238 687 236 687 235 688 277 688 273 688 236 689 240 689 274 689 239 690 273 690 271 690 240 691 242 691 272 691 243 692 241 692 271 692 272 693 242 693 244 693 243 694 269 694 267 694 244 695 246 695 268 695 247 696 245 696 267 696 268 697 246 697 248 697 247 698 265 698 263 698 248 699 250 699 264 699 249 700 263 700 261 700 250 701 252 701 262 701 233 234 251 234 261 234 262 235 252 235 234 235 255 702 253 702 259 702 260 703 254 703 256 703 253 704 231 704 281 704 282 705 232 705 254 705 231 706 233 706 279 706 280 707 234 707 232 707 66 708 107 708 283 708 284 709 108 709 66 709 107 710 105 710 285 710 286 711 106 711 108 711 103 712 287 712 285 712 104 713 106 713 286 713 101 714 289 714 287 714 102 715 104 715 288 715 99 716 291 716 289 716 100 717 102 717 290 717 99 718 97 718 293 718 294 719 98 719 100 719 95 720 295 720 293 720 96 721 98 721 294 721 95 722 93 722 297 722 298 723 94 723 96 723 93 724 91 724 299 724 300 725 92 725 94 725 308 726 327 726 337 726 308 727 307 727 338 727 307 728 337 728 335 728 307 729 306 729 336 729 306 730 335 730 339 730 306 731 305 731 340 731 88 732 90 732 305 732 305 733 90 733 89 733 86 734 88 734 339 734 340 735 89 735 87 735 84 736 86 736 333 736 334 737 87 737 85 737 82 738 84 738 329 738 330 739 85 739 83 739 329 740 335 740 337 740 338 741 336 741 330 741 333 742 339 742 335 742 334 743 330 743 336 743 331 744 337 744 327 744 332 745 326 745 328 745 80 746 82 746 331 746 332 747 83 747 81 747 341 748 343 748 214 748 342 749 209 749 215 749 325 750 341 750 208 750 326 751 81 751 209 751 214 752 343 752 345 752 215 753 79 753 346 753 345 754 299 754 91 754 346 755 79 755 92 755 323 756 351 756 303 756 324 757 76 757 303 757 351 758 349 758 77 758 352 759 303 759 77 759 77 760 349 760 347 760 348 761 350 761 77 761 304 762 347 762 327 762 328 763 348 763 304 763 327 764 347 764 341 764 328 765 326 765 342 765 295 766 297 766 317 766 318 767 298 767 296 767 315 768 323 768 76 768 316 769 75 769 76 769 357 770 355 770 302 770 358 771 301 771 302 771 302 772 355 772 353 772 354 773 356 773 302 773 74 774 353 774 315 774 316 775 354 775 74 775 291 776 293 776 361 776 362 777 294 777 292 777 363 778 361 778 367 778 368 779 362 779 364 779 365 780 367 780 369 780 370 781 368 781 366 781 371 782 369 782 375 782 376 783 370 783 372 783 377 784 373 784 375 784 378 785 314 785 376 785 315 786 353 786 373 786 374 787 354 787 316 787 353 788 355 788 371 788 372 789 356 789 354 789 355 790 357 790 365 790 366 791 358 791 356 791 357 792 359 792 363 792 364 793 360 793 358 793 291 794 363 794 359 794 292 795 290 795 360 795 359 796 357 796 301 796 360 797 73 797 301 797 285 798 287 798 289 798 286 799 284 799 290 799 283 800 289 800 359 800 360 801 290 801 284 801 295 802 309 802 361 802 296 803 294 803 362 803 309 804 311 804 367 804 368 805 312 805 310 805 311 806 381 806 369 806 370 807 382 807 312 807 375 808 369 808 381 808 376 809 314 809 382 809 349 810 385 810 383 810 350 811 348 811 384 811 383 812 385 812 319 812 384 813 318 813 320 813 297 814 299 814 383 814 384 815 300 815 298 815 299 816 343 816 341 816 342 817 344 817 300 817 321 818 379 818 377 818 322 819 314 819 378 819 377 820 379 820 323 820 378 821 316 821 324 821 385 822 379 822 321 822 386 823 320 823 322 823 351 824 379 824 385 824 352 825 350 825 386 825 387 826 413 826 401 826 388 827 400 827 402 827 399 828 401 828 403 828 404 829 402 829 400 829 403 830 405 830 395 830 404 831 398 831 396 831 405 832 407 832 393 832 406 833 396 833 394 833 407 834 409 834 391 834 408 835 394 835 392 835 391 836 409 836 411 836 412 837 410 837 392 837 409 838 419 838 417 838 418 839 420 839 410 839 407 840 421 840 419 840 420 841 422 841 408 841 423 842 421 842 407 842 424 843 406 843 408 843 425 844 423 844 405 844 426 845 404 845 406 845 427 846 425 846 403 846 428 847 402 847 404 847 401 848 413 848 415 848 416 849 414 849 402 849 319 850 443 850 441 850 320 851 318 851 442 851 389 852 411 852 443 852 390 853 320 853 444 853 309 854 317 854 441 854 442 855 318 855 310 855 381 856 429 856 413 856 414 857 430 857 382 857 411 858 417 858 439 858 440 859 418 859 412 859 445 860 443 860 439 860 446 861 438 861 440 861 433 862 445 862 437 862 438 863 446 863 434 863 447 864 445 864 433 864 448 865 432 865 434 865 447 866 431 866 449 866 448 867 430 867 450 867 429 868 449 868 415 868 430 869 414 869 416 869 447 870 429 870 381 870 448 871 312 871 382 871 441 872 445 872 447 872 442 873 312 873 448 873 415 874 449 874 451 874 452 875 450 875 416 875 431 876 461 876 451 876 432 877 450 877 452 877 431 420 433 420 459 420 460 421 434 421 432 421 435 878 457 878 459 878 436 879 434 879 460 879 437 880 455 880 457 880 438 881 436 881 458 881 437 882 439 882 453 882 454 883 440 883 438 883 439 884 417 884 473 884 474 885 418 885 440 885 427 886 415 886 475 886 476 887 416 887 428 887 425 888 427 888 463 888 464 889 428 889 426 889 423 890 425 890 465 890 466 891 426 891 424 891 423 892 467 892 469 892 424 893 422 893 470 893 421 894 469 894 471 894 422 895 420 895 472 895 419 896 471 896 473 896 420 897 418 897 474 897 455 898 479 898 477 898 456 899 458 899 478 899 479 900 481 900 483 900 480 901 478 901 484 901 483 902 481 902 487 902 488 903 482 903 484 903 487 904 489 904 491 904 488 905 486 905 492 905 463 906 475 906 485 906 486 907 476 907 464 907 483 908 485 908 475 908 484 909 452 909 476 909 461 910 477 910 483 910 462 911 452 911 484 911 457 912 477 912 461 912 462 913 478 913 458 913 473 914 479 914 455 914 474 915 454 915 456 915 471 916 481 916 479 916 480 917 482 917 472 917 487 918 481 918 471 918 488 919 470 919 472 919 489 920 487 920 469 920 490 921 468 921 470 921 465 922 491 922 489 922 490 923 492 923 466 923 391 924 389 924 503 924 504 925 390 925 392 925 393 926 391 926 501 926 502 927 392 927 394 927 393 928 499 928 497 928 394 929 396 929 498 929 395 930 497 930 495 930 396 931 398 931 496 931 397 932 495 932 493 932 398 933 400 933 494 933 399 934 493 934 505 934 400 935 388 935 506 935 501 936 503 936 505 936 502 937 494 937 506 937 493 938 495 938 499 938 500 939 496 939 494 939 381 940 387 940 505 940 382 941 314 941 506 941 313 942 505 942 503 942 504 943 506 943 314 943 319 944 321 944 503 944 504 945 322 945 320 945')
    }
  }
  
  // inherit from
, inherit: SVG.ThreeD.Volume
  
  // parent class
, parent: SVG.ThreeD.Scene
  
  // constructor on parent
, construct: {
    element: function(x, y, z) {
      return this.put(new SVG.ThreeD.Element).size(x, y, z)
    }
  }
})


function colladaFacesToEdges(faces) {
  // faces to array
  faces = faces.split(' ')

  // extract edges
  var edges = []

  for (var i = 0; i < faces.length; i += 6) {
    edges.push([faces[i],   faces[i+2]].sort().join(' '))
    edges.push([faces[i],   faces[i+4]].sort().join(' '))
    edges.push([faces[i+2], faces[i+4]].sort().join(' '))
  }

  // find unique edges
  edges = edges.sort().filter(function(el,i,a) {
    if (i == a.indexOf(el)) return true
  })

  return edges.join(' ').split(' ')
}









